System.register(["./index-legacy-c42bf9c3.js","./_plugin-vue_export-helper-legacy-0a8bd3f0.js","./el-input-legacy-fc582903.js","./el-overlay-legacy-b70e08ed.js"],(function(e,o){"use strict";var t,a,n,s,l,r,i,c,d,u,m,p,g,b,f,v,x,y,h,_,w,E,C,k,B,z,M,T,I,A,L,S,R,P,$,V,j,O,H,Y,D,K,X,Z,q,U,F,W,N,G,J,Q,ee;return{setters:[e=>{t=e.az,a=e.P,n=e.af,s=e.Q,l=e.H,r=e.Z,i=e.R,c=e._,d=e.v,u=e.C,m=e.aV,p=e.aW,g=e.y,b=e.r,f=e.a9,v=e.aX,x=e.w,y=e.ax,h=e.W,_=e.o,w=e.c,E=e.a,C=e.ab,k=e.b,B=e.e,z=e.F,M=e.A,T=e.a4,I=e.z,A=e.B,L=e.a2,S=e.ak,R=e.aJ,P=e.D,$=e.d,V=e.ac,j=e.T,O=e.aB,H=e.G,Y=e.aY,D=e.aZ,K=e.a_,X=e.ah,Z=e.aC,q=e.a$},e=>{U=e.E,F=e.u},e=>{W=e.E},e=>{N=e.e,G=e.d,J=e.i,Q=e.j,ee=e.h}],execute:function(){var o=document.createElement("style");o.textContent=':root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:.5}.v-modal-enter{-webkit-animation:v-modal-in var(--el-transition-duration-fast) ease;animation:v-modal-in var(--el-transition-duration-fast) ease}.v-modal-leave{-webkit-animation:v-modal-out var(--el-transition-duration-fast) ease forwards;animation:v-modal-out var(--el-transition-duration-fast) ease forwards}@-webkit-keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-in{0%{opacity:0}}@-webkit-keyframes v-modal-out{to{opacity:0}}@keyframes v-modal-out{to{opacity:0}}.v-modal{position:fixed;left:0;top:0;width:100%;height:100%;opacity:var(--el-popup-modal-opacity);background:var(--el-popup-modal-bg-color)}.el-popup-parent--hidden{overflow:hidden}.el-message-box{--el-messagebox-title-color:var(--el-text-color-primary);--el-messagebox-width:420px;--el-messagebox-border-radius:4px;--el-messagebox-font-size:var(--el-font-size-large);--el-messagebox-content-font-size:var(--el-font-size-base);--el-messagebox-content-color:var(--el-text-color-regular);--el-messagebox-error-font-size:12px;--el-messagebox-padding-primary:15px}.el-message-box{display:inline-block;max-width:var(--el-messagebox-width);width:100%;padding-bottom:10px;vertical-align:middle;background-color:var(--el-bg-color);border-radius:var(--el-messagebox-border-radius);border:1px solid var(--el-border-color-lighter);font-size:var(--el-messagebox-font-size);box-shadow:var(--el-box-shadow-light);text-align:left;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-sizing:border-box}.el-message-box:focus{outline:0!important}.el-overlay.is-message-box .el-overlay-message-box{text-align:center;position:fixed;top:0;right:0;bottom:0;left:0;padding:16px;overflow:auto}.el-overlay.is-message-box .el-overlay-message-box:after{content:"";display:inline-block;height:100%;width:0;vertical-align:middle}.el-message-box.is-draggable .el-message-box__header{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.el-message-box__header{position:relative;padding:var(--el-messagebox-padding-primary);padding-bottom:10px}.el-message-box__title{padding-left:0;margin-bottom:0;font-size:var(--el-messagebox-font-size);line-height:1;color:var(--el-messagebox-title-color)}.el-message-box__headerbtn{position:absolute;top:var(--el-messagebox-padding-primary);right:var(--el-messagebox-padding-primary);padding:0;border:none;outline:0;background:0 0;font-size:var(--el-message-close-size,16px);cursor:pointer}.el-message-box__headerbtn .el-message-box__close{color:var(--el-color-info);font-size:inherit}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:var(--el-color-primary)}.el-message-box__content{padding:10px var(--el-messagebox-padding-primary);color:var(--el-messagebox-content-color);font-size:var(--el-messagebox-content-font-size)}.el-message-box__container{position:relative}.el-message-box__input{padding-top:15px}.el-message-box__input div.invalid>input{border-color:var(--el-color-error)}.el-message-box__input div.invalid>input:focus{border-color:var(--el-color-error)}.el-message-box__status{position:absolute;top:50%;transform:translateY(-50%);font-size:24px!important}.el-message-box__status:before{padding-left:1px}.el-message-box__status.el-icon{position:absolute}.el-message-box__status+.el-message-box__message{padding-left:36px;padding-right:12px;word-break:break-word}.el-message-box__status.el-message-box-icon--success{--el-messagebox-color:var(--el-color-success);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--info{--el-messagebox-color:var(--el-color-info);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--warning{--el-messagebox-color:var(--el-color-warning);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--error{--el-messagebox-color:var(--el-color-error);color:var(--el-messagebox-color)}.el-message-box__message{margin:0}.el-message-box__message p{margin:0;line-height:24px}.el-message-box__errormsg{color:var(--el-color-error);font-size:var(--el-messagebox-error-font-size);min-height:18px;margin-top:2px}.el-message-box__btns{padding:5px 15px 0;display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center}.el-message-box__btns button:nth-child(2){margin-left:10px}.el-message-box__btns-reverse{flex-direction:row-reverse}.el-message-box--center .el-message-box__title{position:relative;display:flex;align-items:center;justify-content:center}.el-message-box--center .el-message-box__status{position:relative;top:auto;padding-right:5px;text-align:center;transform:translateY(-1px)}.el-message-box--center .el-message-box__message{margin-left:0}.el-message-box--center .el-message-box__btns{justify-content:center}.el-message-box--center .el-message-box__content{padding-left:calc(var(--el-messagebox-padding-primary) + 12px);padding-right:calc(var(--el-messagebox-padding-primary) + 12px);text-align:center}.fade-in-linear-enter-active .el-overlay-message-box{-webkit-animation:msgbox-fade-in var(--el-transition-duration);animation:msgbox-fade-in var(--el-transition-duration)}.fade-in-linear-leave-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration) reverse}@-webkit-keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@-webkit-keyframes msgbox-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}@keyframes msgbox-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}\n',document.head.appendChild(o);const oe=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>te(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),te=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ae=(e("t",(function(e,o,...t){let a;a=o.includes("mouse")||o.includes("click")?"MouseEvents":o.includes("key")?"KeyboardEvent":"HTMLEvents";const n=document.createEvent(a);return n.initEvent(o,...t),e.dispatchEvent(n),e})),e("c",((...e)=>o=>{e.forEach((e=>{t(e)?e(o):e.value=o}))})),e("u",((e,o,t)=>{let r={offsetX:0,offsetY:0};const i=o=>{const t=o.clientX,a=o.clientY,{offsetX:n,offsetY:s}=r,i=e.value.getBoundingClientRect(),c=i.left,d=i.top,u=i.width,m=i.height,p=document.documentElement.clientWidth,g=document.documentElement.clientHeight,b=-c+n,f=-d+s,v=p-c-u+n,x=g-d-m+s,y=o=>{const i=Math.min(Math.max(n+o.clientX-t,b),v),c=Math.min(Math.max(s+o.clientY-a,f),x);r={offsetX:i,offsetY:c},e.value.style.transform=`translate(${l(i)}, ${l(c)})`},h=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",h)},c=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",i)};a((()=>{n((()=>{t.value?o.value&&e.value&&o.value.addEventListener("mousedown",i):c()}))})),s((()=>{c()}))}))),ne="_trap-focus-children",se=[],le=e=>{if(0===se.length)return;const o=se[se.length-1][ne];if(o.length>0&&e.code===i.tab){if(1===o.length)return e.preventDefault(),void(document.activeElement!==o[0]&&o[0].focus());const t=e.shiftKey,a=e.target===o[0],n=e.target===o[o.length-1];a&&t&&(e.preventDefault(),o[o.length-1].focus()),n&&!t&&(e.preventDefault(),o[0].focus())}},re=d({name:"ElMessageBox",directives:{TrapFocus:{beforeMount(e){e[ne]=oe(e),se.push(e),se.length<=1&&document.addEventListener("keydown",le)},updated(e){r((()=>{e[ne]=oe(e)}))},unmounted(){se.shift(),0===se.length&&document.removeEventListener("keydown",le)}}},components:{ElButton:U,ElFocusTrap:N,ElInput:W,ElOverlay:G,ElIcon:u,...m},inheritAttrs:!1,props:{buttonSize:{type:String,validator:J},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:o}){const{locale:t,zIndex:n,ns:l,size:i}=p("message-box",g((()=>e.buttonSize))),{t:c}=t,{nextZIndex:d}=n,u=b(!1),m=f({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),h=g((()=>{const e=m.type;return{[l.bm("icon",e)]:e&&v[e]}})),_=F(),w=F(),E=g((()=>m.icon||v[m.type]||"")),C=g((()=>!!m.message)),k=b(),B=b(),z=b(),M=b(),T=b(),I=g((()=>m.confirmButtonClass));x((()=>m.inputValue),(async o=>{await r(),"prompt"===e.boxType&&null!==o&&$()}),{immediate:!0}),x((()=>u.value),(o=>{var t,a;o&&("prompt"!==e.boxType&&(m.autofocus?z.value=null!=(a=null==(t=T.value)?void 0:t.$el)?a:k.value:z.value=k.value),m.zIndex=d()),"prompt"===e.boxType&&(o?r().then((()=>{var e;M.value&&M.value.$el&&(m.autofocus?z.value=null!=(e=V())?e:k.value:z.value=k.value)})):(m.editorErrorMessage="",m.validateError=!1))}));const A=g((()=>e.draggable));function L(){u.value&&(u.value=!1,r((()=>{m.action&&o("action",m.action)})))}ae(k,B,A),a((async()=>{await r(),e.closeOnHashChange&&window.addEventListener("hashchange",L)})),s((()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",L)}));const S=()=>{e.closeOnClickModal&&P(m.distinguishCancelAndClose?"close":"cancel")},R=ee(S),P=o=>{var t;("prompt"!==e.boxType||"confirm"!==o||$())&&(m.action=o,m.beforeClose?null==(t=m.beforeClose)||t.call(m,o,m,L):L())},$=()=>{if("prompt"===e.boxType){const e=m.inputPattern;if(e&&!e.test(m.inputValue||""))return m.editorErrorMessage=m.inputErrorMessage||c("el.messagebox.error"),m.validateError=!0,!1;const o=m.inputValidator;if("function"==typeof o){const e=o(m.inputValue);if(!1===e)return m.editorErrorMessage=m.inputErrorMessage||c("el.messagebox.error"),m.validateError=!0,!1;if("string"==typeof e)return m.editorErrorMessage=e,m.validateError=!0,!1}}return m.editorErrorMessage="",m.validateError=!1,!0},V=()=>{const e=M.value.$refs;return e.input||e.textarea},j=()=>{P("close")};return e.lockScroll&&Q(u),{...y(m),ns:l,overlayEvent:R,visible:u,hasMessage:C,typeClass:h,contentId:_,inputId:w,btnSize:i,iconComponent:E,confirmButtonClasses:I,rootRef:k,focusStartRef:z,headerRef:B,inputRef:M,confirmRef:T,doClose:L,handleClose:j,onCloseRequested:()=>{e.closeOnPressEscape&&j()},handleWrapperClick:S,handleInputEnter:e=>{if("textarea"!==m.inputType)return e.preventDefault(),P("confirm")},handleAction:P,t:c}}}),ie=["aria-label","aria-describedby"],ce=["aria-label"],de=["id"];var ue=c(re,[["render",function(e,o,t,a,n,s){const l=h("el-icon"),r=h("close"),i=h("el-input"),c=h("el-button"),d=h("el-focus-trap"),u=h("el-overlay");return _(),w(j,{name:"fade-in-linear",onAfterLeave:o[11]||(o[11]=o=>e.$emit("vanish")),persisted:""},{default:E((()=>[C(k(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:E((()=>[B("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:z(`${e.ns.namespace.value}-overlay-message-box`),onClick:o[8]||(o[8]=(...o)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...o)),onMousedown:o[9]||(o[9]=(...o)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...o)),onMouseup:o[10]||(o[10]=(...o)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...o))},[k(d,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:E((()=>[B("div",{ref:"rootRef",class:z([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:M(e.customStyle),tabindex:"-1",onClick:o[7]||(o[7]=T((()=>{}),["stop"]))},[null!==e.title&&void 0!==e.title?(_(),I("div",{key:0,ref:"headerRef",class:z(e.ns.e("header"))},[B("div",{class:z(e.ns.e("title"))},[e.iconComponent&&e.center?(_(),w(l,{key:0,class:z([e.ns.e("status"),e.typeClass])},{default:E((()=>[(_(),w(A(e.iconComponent)))])),_:1},8,["class"])):L("v-if",!0),B("span",null,S(e.title),1)],2),e.showClose?(_(),I("button",{key:0,type:"button",class:z(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:o[0]||(o[0]=o=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:o[1]||(o[1]=R(T((o=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"]))},[k(l,{class:z(e.ns.e("close"))},{default:E((()=>[k(r)])),_:1},8,["class"])],42,ce)):L("v-if",!0)],2)):L("v-if",!0),B("div",{id:e.contentId,class:z(e.ns.e("content"))},[B("div",{class:z(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(_(),w(l,{key:0,class:z([e.ns.e("status"),e.typeClass])},{default:E((()=>[(_(),w(A(e.iconComponent)))])),_:1},8,["class"])):L("v-if",!0),e.hasMessage?(_(),I("div",{key:1,class:z(e.ns.e("message"))},[P(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(_(),w(A(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(_(),w(A(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:E((()=>[$(S(e.dangerouslyUseHTMLString?"":e.message),1)])),_:1},8,["for"]))]))],2)):L("v-if",!0)],2),C(B("div",{class:z(e.ns.e("input"))},[k(i,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":o[2]||(o[2]=o=>e.inputValue=o),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:z({invalid:e.validateError}),onKeydown:R(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),B("div",{class:z(e.ns.e("errormsg")),style:M({visibility:e.editorErrorMessage?"visible":"hidden"})},S(e.editorErrorMessage),7)],2),[[V,e.showInput]])],10,de),B("div",{class:z(e.ns.e("btns"))},[e.showCancelButton?(_(),w(c,{key:0,loading:e.cancelButtonLoading,class:z([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:o[3]||(o[3]=o=>e.handleAction("cancel")),onKeydown:o[4]||(o[4]=R(T((o=>e.handleAction("cancel")),["prevent"]),["enter"]))},{default:E((()=>[$(S(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","class","round","size"])):L("v-if",!0),C(k(c,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:z([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:o[5]||(o[5]=o=>e.handleAction("confirm")),onKeydown:o[6]||(o[6]=R(T((o=>e.handleAction("confirm")),["prevent"]),["enter"]))},{default:E((()=>[$(S(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","class","round","disabled","size"]),[[V,e.showConfirmButton]])],2)],6)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,ie)])),_:3},8,["z-index","overlay-class","mask"]),[[V,e.visible]])])),_:3})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const me=new Map,pe=(e,o,a=null)=>{const n=k(ue,e,t(e.message)||Y(e.message)?{default:t(e.message)?e.message:()=>e.message}:null);return n.appContext=a,D(n,o),(e=>{let o=document.body;return e.appendTo&&(H(e.appendTo)&&(o=document.querySelector(e.appendTo)),q(e.appendTo)&&(o=e.appendTo),q(o)||(o=document.body)),o})(e).appendChild(o.firstElementChild),n.component},ge=(e,o)=>{const t=document.createElement("div");e.onVanish=()=>{D(null,t),me.delete(n)},e.onAction=o=>{const t=me.get(n);let s;s=e.showInput?{value:n.inputValue,action:o}:o,e.callback?e.callback(s,a.proxy):"cancel"===o||"close"===o?e.distinguishCancelAndClose&&"cancel"!==o?t.reject("close"):t.reject("cancel"):t.resolve(s)};const a=pe(e,t,o),n=a.proxy;for(const s in e)K(e,s)&&!K(n.$props,s)&&(n[s]=e[s]);return n.visible=!0,n};function be(e,o=null){if(!O)return Promise.reject();let t;return H(e)||Y(e)?e={message:e}:t=e.callback,new Promise(((a,n)=>{const s=ge(e,null!=o?o:be._context);me.set(s,{options:e,callback:t,resolve:a,reject:n})}))}const fe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};["alert","confirm","prompt"].forEach((e=>{be[e]=function(e){return(o,t,a,n)=>{let s="";return X(t)?(a=t,s=""):s=Z(t)?"":t,be(Object.assign({title:s,message:o,type:"",...fe[e]},a,{boxType:e}),n)}}(e)})),be.close=()=>{me.forEach(((e,o)=>{o.doClose()})),me.clear()},be._context=null;const ve=be;ve.install=e=>{ve._context=e._context,e.config.globalProperties.$msgbox=ve,e.config.globalProperties.$messageBox=ve,e.config.globalProperties.$alert=ve.alert,e.config.globalProperties.$confirm=ve.confirm,e.config.globalProperties.$prompt=ve.prompt},e("E",ve)}}}));
