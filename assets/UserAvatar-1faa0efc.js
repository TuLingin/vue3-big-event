import{_ as U}from"./PageContainer-8f7fae4a.js";import{h,r as p,o as r,c as k,a,b as t,z as u,d as i,bN as w,E as y,p as E,k as S,e as R}from"./index-d6f8b870.js";import{a as A,E as B}from"./el-col-b5fc08f4.js";import{_ as x,E as C}from"./_plugin-vue_export-helper-1eb04091.js";import{E as I}from"./el-progress-eb6c310d.js";import"./el-message-7a89cfee.js";import"./isEqual-1d6280c7.js";const N=""+new URL("avatar-db9fbf44.jpg",import.meta.url).href;const z=s=>(E("data-v-f5204bbc"),s=s(),S(),s),V=["src"],F={key:1,src:N,width:"278"},L=z(()=>R("br",null,null,-1)),$={__name:"UserAvatar",setup(s){const c=h(),o=p(""),n=p();o.value=c.user.user_pic;const d=l=>{const e=new FileReader;e.readAsDataURL(l.raw),e.onload=()=>{o.value=e.result}},f=async()=>{console.log(111),await w(o.value),c.getUser(),y.success("修改成功")};return(l,e)=>{const m=I,_=C,v=A,g=B,b=U;return r(),k(b,{title:"更换头像"},{default:a(()=>[t(g,null,{default:a(()=>[t(v,{span:12},{default:a(()=>[t(m,{ref_key:"uploadRef",ref:n,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":d},{default:a(()=>[o.value?(r(),u("img",{key:0,src:o.value,class:"avatar"},null,8,V)):(r(),u("img",F))]),_:1},512),L,t(_,{type:"primary",icon:l.Plus,size:"large",onClick:e[0]||(e[0]=j=>n.value.$el.querySelector("input").click())},{default:a(()=>[i(" 选择图片 ")]),_:1},8,["icon"]),t(_,{type:"success",icon:l.Upload,size:"large",onClick:f},{default:a(()=>[i(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},J=x($,[["__scopeId","data-v-f5204bbc"]]);export{J as default};
