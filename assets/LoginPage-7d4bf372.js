import{r as _,w as L,o as g,c as v,a,b as e,u as d,d as u,e as x,f as B,E as k,g as $,h as q,i as N,j as E,l as w,p as P,k as R}from"./index-d6f8b870.js";import{E as z,a as F}from"./el-col-b5fc08f4.js";import{E as M}from"./el-checkbox-359fd1ce.js";import{E as T,a as j}from"./el-form-item-ffc54db6.js";import{E as A}from"./el-link-868a32a8.js";import{_ as D,E as G}from"./_plugin-vue_export-helper-1eb04091.js";import{E as H}from"./el-input-817b6e04.js";import"./el-message-7a89cfee.js";import"./isEqual-1d6280c7.js";const b=i=>(P("data-v-7cb3161d"),i=i(),R(),i),J=b(()=>x("h1",null,"注册",-1)),K=b(()=>x("h1",null,"登录",-1)),O={class:"flex"},Q={__name:"LoginPage",setup(i){const m=_(!1),o=_({username:"aaaaa123",password:"123456",repassword:""}),S={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名长度在5-10之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15的非空字符",trigger:"blur"},{validator:(t,l,n)=>{l!==o.value.password?n(new Error("两次密码不相等")):n()},trigger:"blur"}]},f=_(),C=async()=>{await f.value.validate();const t=await B(o.value);console.log(t),k.success("注册成功")};L(m,()=>{o.value={username:"",password:"",repassword:""}});const I=async()=>{await f.value.validate();const t=await $(o.value);k.success("登录成功"),console.log(t),q().setToken(t.data.token),N.push("/")};return(t,l)=>{const n=F,s=T,p=H,y=G,c=A,V=j,U=M,h=z;return g(),v(h,{class:"login-page"},{default:a(()=>[e(n,{span:12,class:"bg"}),e(n,{span:6,offset:3,class:"form"},{default:a(()=>[m.value?(g(),v(V,{key:0,model:o.value,rules:S,ref_key:"form",ref:f,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[J]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>o.value.username=r),"prefix-icon":d(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[1]||(l[1]=r=>o.value.password=r),"prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"repassword"},{default:a(()=>[e(p,{modelValue:o.value.repassword,"onUpdate:modelValue":l[2]||(l[2]=r=>o.value.repassword=r),"prefix-icon":d(w),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,null,{default:a(()=>[e(y,{class:"button",type:"primary","auto-insert-space":"",onClick:C},{default:a(()=>[u(" 注册 ")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[3]||(l[3]=r=>m.value=!1)},{default:a(()=>[u(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(g(),v(V,{key:1,model:o.value,ref_key:"form",ref:f,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[K]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":l[4]||(l[4]=r=>o.value.username=r),"prefix-icon":d(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[5]||(l[5]=r=>o.value.password=r),name:"password","prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{class:"flex"},{default:a(()=>[x("div",O,[e(U,null,{default:a(()=>[u("记住我")]),_:1}),e(c,{type:"primary",underline:!1},{default:a(()=>[u("忘记密码？")]),_:1})])]),_:1}),e(s,null,{default:a(()=>[e(y,{class:"button",type:"primary","auto-insert-space":"",onClick:I},{default:a(()=>[u("登录")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[6]||(l[6]=r=>m.value=!0)},{default:a(()=>[u(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},re=D(Q,[["__scopeId","data-v-7cb3161d"]]);export{re as default};
