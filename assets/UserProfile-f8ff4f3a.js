import{_ as b}from"./PageContainer-8f7fae4a.js";import{r as m,h as E,o as V,c as k,a as l,bZ as U,b as e,d as w,b_ as y,E as x}from"./index-d6f8b870.js";import{a as I,E as S}from"./el-col-b5fc08f4.js";import{E as B,a as C}from"./el-form-item-ffc54db6.js";import{E as R}from"./_plugin-vue_export-helper-1eb04091.js";import{E as q}from"./el-input-817b6e04.js";import"./el-message-7a89cfee.js";const j={__name:"UserProfile",setup(F){const a=m({id:"",username:"",nickname:"",email:""}),u=m(),i={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},_=E();(async()=>{const n=await U();a.value=n.data.data})();const d=async()=>{await u.value.validate()&&(await y(a.value),_.setUser(a.value),x.success("修改成功"))};return(n,t)=>{const s=q,r=B,p=R,c=C,f=I,g=S,v=b;return V(),k(v,{title:"基本资料"},{default:l(()=>[e(g,null,{default:l(()=>[e(f,{span:12},{default:l(()=>[e(c,{model:a.value,rules:i,ref_key:"formRef",ref:u,"label-width":"100px",size:"large"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(s,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(s,{modelValue:a.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(s,{modelValue:a.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(p,{type:"primary",onClick:d},{default:l(()=>[w("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{j as default};
